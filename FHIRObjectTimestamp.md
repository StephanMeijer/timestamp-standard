# FHIRObjectTimestamp

Current Version: 0.2.0

## Changelog
0.2.0
- Draft of FHIRObjectTimestamp

## Goal

This kind of object is inspired by [FHIR](https://www.hl7.org/fhir/).

## Content

We recommend content behind the hash of this Object to be minified [FHIR](https://www.hl7.org/fhir/). JSON, XML and Turtle are all allowed, but using Turtle is not recommended.

## Creating the hash

The hash that is put into the blockchain is generated by hashing a JSON object containing properties and attributes. Currently, the hashing algorithm used is SHA-256.

```json
{
  "type": "FHIRObjectTimestamp",
  "version": "0.2.0",
  "fhirVersion": "4.0.1",
  "contentHash": "8C9453EF2C0C6F2F94104D16FF0A8105BC6C9793D926457839D8BCADE0888342",
  "contentUrl": "https://test.com/fhir/Patient",
  "encodingFormat": "application/fhir+xml",
  "date": "2019-07-08T08:38:23+0000"
}
```

The SHA-256 hash of the minified JSON example is `4a1cac35d249db639ed99b9a79accb32f134e2e2a6e8a0e1e1d59707326c7726`. This hash needs to be posted to the blockchain. The transaction id of the transaction that is included in the blockchain, which contains this hash, needs to be saved together with the used properties and attributes. 

### Properties

Properties are required fields for every FHIRObjectTimestamp. 

`type` - String, The type used

`version` - String, The version of the type used

`fhirVersion` - String, The version of FHIR used [(see Index)](http://hl7.org/fhir/directory.html).

`contentHash` - String, Text, SHA256 hash of the media object

`encodingFormat` - String, Text, MIME, either `application/fhir+xml`, `application/fhir+turtle` or `application/fhir+json`. See [documentation on supported formats](https://www.hl7.org/fhir/formats.html#wire).

`date` - String, ISO 8601

### Attributes

Attributes can be included, but are optional. Only items included in the standard can be added to the JSON object, in **alphabetical order, after the last property**. If the value of an attribute is empty, it should not be included in the object.

`contentUrl` - String, Text

## Including to blockchain

The implementation will differ per blockchain. Please include the following fields. 

`hash` - String, SHA-256 hash of the article 
`previousTransactionId` - Optional, String - Blockchain Transaction Id with hash of the previous revision.

Optionally you can include a memo including an url to enhance the user experience.
